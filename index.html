<!DOCTYPE html>
<html lang="es"> <!-- 1. Idioma del documento -->
<head>
    <meta charset="UTF-8"> <!-- 2. Codificación de caracteres -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 3. Viewport para responsividad -->
    <meta name="description" content="Una aplicación para registrar y visualizar el tiempo dedicado a diferentes actividades como videojuegos, redes sociales y streaming."> <!-- 4. Descripción SEO más detallada -->
    
    <title>TimeTracker ⏱️ - Registra tu Tiempo</title> <!-- Título ligeramente más descriptivo -->

    <!-- 5. Favicon (descomenta y reemplaza 'favicon.ico' con tu archivo) -->
    <!-- <link rel="icon" href="favicon.ico" type="image/x-icon"> -->
    <!-- <link rel="apple-touch-icon" href="apple-touch-icon.png"> --> <!-- Para dispositivos Apple -->
    <!-- <link rel="manifest" href="manifest.json"> --> <!-- Para PWA si lo consideras en el futuro -->

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header> <!-- 6. Encabezado de la página -->
        <div class="container">
             <h1>Registro de Tiempo 🕹️</h1>
        </div>
    </header>

    <main class="container"> <!-- 7. Contenido principal de la aplicación -->
        
        <section class="timer-card" aria-labelledby="timer-section-heading"> <!-- 8. Sección para el temporizador -->
            <h2 id="timer-section-heading" class="visually-hidden">Control del Temporizador de Actividad</h2> <!-- 8a. Encabezado para accesibilidad -->
            
            <div> <!-- 8b. Div para agrupar label y select -->
                <label for="category">Selecciona una actividad:</label>
                <select id="category" name="category">
                    <!-- La opción "Selecciona Categoría" será añadida por JS si no existe -->
                    <option value="Videojuegos">🎮 Videojuegos</option>
                    <option value="Redes">📱 Redes Sociales</option>
                    <option value="Streaming">🎥 Streaming</option>
                    <option value="Estudio">📚 Estudio</option>
                    <option value="Trabajo">💼 Trabajo</option>
                    <option value="Ejercicio">💪 Ejercicio</option> <!-- Otra categoría de ejemplo -->
                    <option value="Otro">🧩 Otro</option>         <!-- Categoría genérica -->
                </select>
            </div>
            
            <button type="button" id="startStopBtn" aria-label="Iniciar temporizador">▶️ Iniciar</button>
            
            <p id="timerDisplay" role="timer" aria-live="polite" aria-atomic="true">00:00:00</p>
            
            <!-- **** NUEVO ELEMENTO PARA MOSTRAR LA SESIÓN ACTUAL **** -->
            <p id="currentSessionDisplay" class="current-session-info" aria-live="polite"></p> 
            <!-- aria-live="polite" para que los lectores de pantalla anuncien los cambios -->
            
        </section>

        <section class="stats" aria-labelledby="stats-section-heading"> <!-- 11. Sección para estadísticas -->
            <h2 id="stats-section-heading">Estadísticas de Tiempo 📊</h2>
            
            <div class="chart-container"> <!-- 11a. Contenedor para el canvas -->
                <canvas id="chart" role="img" aria-label="Gráfico circular de distribución de tiempo por actividad">
                    Tu navegador no soporta el elemento canvas. Aquí se mostraría un gráfico de tiempo.
                </canvas>
            </div>
            
            <h3>Historial de Actividades:</h3>
            <ul id="historyList" aria-live="polite"> <!-- 12. aria-live para la lista -->
                <!-- El contenido de la lista será generado por JavaScript -->
            </ul>
            <button type="button" class="delete-btn">🗑️ Borrar Todo el Historial</button>
        </section>
    </main>

    <footer> <!-- 13. Pie de página -->
        <div class="container">
            <p><small>© <span id="currentYear"></span> Tu Nombre o Nombre del Proyecto. Todos los derechos reservados.</small></p>
            <!-- <p><small><a href="#">Términos de Servicio</a> | <a href="#">Política de Privacidad</a></small></p> -->
        </div>
    </footer>
    
    <!-- Scripts al final del body -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="app.js" defer></script>
    <script>
        // Pequeño script para el año actual en el footer
        if (document.getElementById('currentYear')) { // Comprobar si el elemento existe
            document.getElementById('currentYear').textContent = new Date().getFullYear();
        }
    </script>
</body>
</html>
